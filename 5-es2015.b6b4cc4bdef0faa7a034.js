(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{mQSa:function(t,e,r){"use strict";r.r(e),r.d(e,"AccountsModule",function(){return Q});var o=r("ofXK"),s=r("tyNb"),i=r("3Pt+"),n=r("SxV6"),a=r("fXoL"),c=r("DxEH"),b=r("JIr8"),d=r("tk/3"),u=r("RJTb");let l=(()=>{class t{constructor(t,e){this.http=t,this.apiService=e}postConsent(t){const e=this.apiService.getURL("user-consent");return this.http.post(e,t).pipe(Object(b.a)(this.apiService.handleError()))}getConsent(){const t=this.apiService.getURL("user-consent");return this.http.get(t).pipe(Object(b.a)(this.apiService.handleError()))}}return t.\u0275fac=function(e){return new(e||t)(a.bc(d.b),a.bc(u.a))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function p(t,e){1&t&&(a.Ub(0,"div"),a.Jc(1,"Username is required"),a.Tb())}function h(t,e){if(1&t&&(a.Ub(0,"div",21),a.Hc(1,p,2,0,"div",22),a.Tb()),2&t){const t=a.ic();a.Bb(1),a.oc("ngIf",t.f.username.errors.required)}}function m(t,e){1&t&&(a.Ub(0,"div"),a.Jc(1,"Password is required"),a.Tb())}function f(t,e){if(1&t&&(a.Ub(0,"div",21),a.Hc(1,m,2,0,"div",22),a.Tb()),2&t){const t=a.ic();a.Bb(1),a.oc("ngIf",t.f.password.errors.required)}}function g(t,e){1&t&&a.Pb(0,"span",23)}function w(t,e){if(1&t&&(a.Ub(0,"div",24),a.Jc(1),a.Tb()),2&t){const t=a.ic();a.Bb(1),a.Kc(t.error)}}const v=function(t){return{"is-invalid":t}};let y=(()=>{class t{constructor(t,e,r,o,s){this.formBuilder=t,this.route=e,this.router=r,this.authenticationService=o,this.consentService=s,this.loading=!1,this.submitted=!1,this.error="",this.logoPath="assets/global/logo.jpg",this.authenticationService.currentUserValue&&this.router.navigate(["/homepage"]).then()}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",i.w.required],password:["",i.w.required]})}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,this.loginForm.invalid||(this.loading=!0,this.authenticationService.login(this.f.username.value,this.f.password.value).pipe(Object(n.a)()).subscribe({next:()=>{this.consentService.getConsent().subscribe(t=>{0===t.length?this.router.navigate(["/accounts/consent-form"]).then():this.router.navigate([this.route.snapshot.queryParams.returnUrl||"/homepage"]).then()})},error:t=>{this.error=t,this.loading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(i.d),a.Ob(s.a),a.Ob(s.b),a.Ob(c.a),a.Ob(l))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-login"]],decls:32,vars:13,consts:[[1,"login"],[1,"row"],[1,"col-md-6","offset-md-3","mt-5","mb-5"],[1,"brand"],["alt","logo",3,"src"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username","id","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","alert alert-danger mt-3 mb-0",4,"ngIf"],[1,"mt-4","text-center"],["routerLink","../register"],["routerLink","../reset-password"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"alert","alert-danger","mt-3","mb-0"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Pb(4,"img",4),a.Tb(),a.Ub(5,"div",5),a.Ub(6,"h2",6),a.Jc(7,"Login"),a.Tb(),a.Ub(8,"div",7),a.Ub(9,"form",8),a.ec("ngSubmit",function(){return e.onSubmit()}),a.Ub(10,"div",9),a.Ub(11,"label",10),a.Jc(12,"Username"),a.Tb(),a.Pb(13,"input",11),a.Hc(14,h,2,1,"div",12),a.Tb(),a.Ub(15,"div",9),a.Ub(16,"label",13),a.Jc(17,"Password"),a.Tb(),a.Pb(18,"input",14),a.Hc(19,f,2,1,"div",12),a.Tb(),a.Ub(20,"button",15),a.Hc(21,g,1,0,"span",16),a.Jc(22," Login "),a.Tb(),a.Hc(23,w,2,1,"div",17),a.Ub(24,"div",18),a.Jc(25," Don't have an account? "),a.Ub(26,"a",19),a.Jc(27,"Register"),a.Tb(),a.Tb(),a.Ub(28,"div",18),a.Jc(29," Forgot your password? "),a.Ub(30,"a",20),a.Jc(31,"Reset Password"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Bb(4),a.oc("src",e.logoPath,a.Ac),a.Bb(5),a.oc("formGroup",e.loginForm),a.Bb(4),a.oc("ngClass",a.sc(9,v,e.submitted&&e.f.username.errors)),a.Bb(1),a.oc("ngIf",e.submitted&&e.f.username.errors),a.Bb(4),a.oc("ngClass",a.sc(11,v,e.submitted&&e.f.password.errors)),a.Bb(1),a.oc("ngIf",e.submitted&&e.f.password.errors),a.Bb(1),a.oc("disabled",e.loading),a.Bb(1),a.oc("ngIf",e.loading),a.Bb(2),a.oc("ngIf",e.error))},directives:[i.y,i.n,i.g,i.c,i.m,i.f,o.m,o.o,s.d],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%}.brand[_ngcontent-%COMP%]{width:90px;height:90px;overflow:hidden;border-radius:50%;margin:40px auto;box-shadow:0 4px 8px rgba(0,0,0,.05);position:relative;z-index:1}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),t})();var T=r("AytR");const U=t=>{const e=t.get("password"),r=t.get("password2");return e.value!==r.value?(r.setErrors({confirmedValidator:!0}),{confirmedValidator:!0}):null};let P=(()=>{class t{constructor(t,e){this.http=t,this.apiService=e}postRegistration(t){const e=this.apiService.getURL("register");return this.http.post(e,t).pipe(Object(b.a)(this.apiService.handleError("A problem occurred while registering",{success:!1,bad_request:!0})))}postActivation(t,e){const r=this.apiService.getURL("register","activate");return this.http.post(r,{uuid:t,token:e}).pipe(Object(b.a)(this.apiService.handleError("There was an error during activation",{success:!1,bad_request:!0},{redirect:["accounts","login"]})))}}return t.\u0275fac=function(e){return new(e||t)(a.bc(d.b),a.bc(u.a))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=r("5eHb"),C=r("jCJ1"),O=r("Xa2L");function J(t,e){1&t&&(a.Ub(0,"div"),a.Jc(1,"Password is Required."),a.Tb())}function S(t,e){if(1&t&&(a.Ub(0,"div",26),a.Hc(1,J,2,0,"div",27),a.Tb()),2&t){const t=a.ic(2);a.Bb(1),a.oc("ngIf",t.f.password.errors.required)}}function I(t,e){1&t&&(a.Ub(0,"div"),a.Jc(1,"Password is Required."),a.Tb())}function k(t,e){1&t&&(a.Ub(0,"div"),a.Jc(1,"Passwords must match. "),a.Tb())}function x(t,e){if(1&t&&(a.Ub(0,"div",26),a.Hc(1,I,2,0,"div",27),a.Hc(2,k,2,0,"div",27),a.Tb()),2&t){const t=a.ic(2);a.Bb(1),a.oc("ngIf",t.f.password2.errors.required),a.Bb(1),a.oc("ngIf",t.f.password2.errors.confirmedValidator)}}function B(t,e){1&t&&(a.Ub(0,"button",28),a.Ub(1,"div"),a.Jc(2,"Register"),a.Tb(),a.Tb())}function D(t,e){1&t&&(a.Ub(0,"div",29),a.Pb(1,"mat-spinner",30),a.Tb()),2&t&&(a.Bb(1),a.oc("diameter",65))}function M(t,e){if(1&t){const t=a.Vb();a.Sb(0),a.Ub(1,"h2",8),a.Jc(2,"Register"),a.Tb(),a.Ub(3,"div",9),a.Ub(4,"form",10),a.ec("ngSubmit",function(){a.yc(t);const e=a.ic();return e.onSubmit(e.formData.value)}),a.Ub(5,"div",11),a.Ub(6,"label",12),a.Jc(7,"Email:"),a.Tb(),a.Pb(8,"input",13),a.Ub(9,"small",14),a.Jc(10,"We'll never share your email with anyone else."),a.Tb(),a.Tb(),a.Ub(11,"div",11),a.Ub(12,"label",15),a.Jc(13,"Password:"),a.Tb(),a.Pb(14,"input",16),a.Hc(15,S,2,1,"div",17),a.Tb(),a.Ub(16,"div",18),a.Ub(17,"ul"),a.Ub(18,"li"),a.Jc(19,"Your password must contain at least 8 characters."),a.Tb(),a.Ub(20,"li"),a.Jc(21,"Your password can\u2019t be entirely numeric."),a.Tb(),a.Tb(),a.Tb(),a.Ub(22,"div",11),a.Ub(23,"label",19),a.Jc(24,"Password Confirmation:"),a.Tb(),a.Pb(25,"input",20),a.Hc(26,x,3,2,"div",17),a.Tb(),a.Ub(27,"div",11),a.Pb(28,"re-captcha",21),a.Tb(),a.Hc(29,B,3,0,"button",22),a.Hc(30,D,2,1,"ng-template",null,23,a.Ic),a.Ub(32,"div",24),a.Jc(33," Already have an account? "),a.Ub(34,"a",25),a.Jc(35,"Login"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Rb()}if(2&t){const t=a.wc(31),e=a.ic();a.Bb(4),a.oc("formGroup",e.formData),a.Bb(11),a.oc("ngIf",e.f.password.touched&&e.f.password.invalid),a.Bb(11),a.oc("ngIf",e.f.password2.touched&&e.f.password2.invalid),a.Bb(2),a.pc("siteKey",e.siteKey),a.Bb(1),a.oc("ngIf",!e.isLoading)("ngIfElse",t)}}function q(t,e){1&t&&(a.Ub(0,"div",9),a.Ub(1,"div",11),a.Ub(2,"h2"),a.Jc(3,"Registration Successful"),a.Tb(),a.Tb(),a.Ub(4,"div",11),a.Ub(5,"p"),a.Jc(6,"Thank you for signing up. An activation link is sent to your email. Please Activate your account using that link"),a.Tb(),a.Tb(),a.Ub(7,"div",11),a.Ub(8,"button",31),a.Jc(9," Go Home "),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Bb(8),a.oc("routerLink","/"))}let R=(()=>{class t{constructor(t,e,r){this.builder=t,this.register=e,this.toastr=r,this.siteKey=T.a.siteKey,this.formSubmitted=!1,this.isLoading=!1,this.logoPath="assets/global/logo.jpg"}ngOnInit(){this.formData=this.builder.group({email:new i.e(null,[i.w.required,i.w.email]),password:new i.e(null,[i.w.required]),password2:new i.e(null,[i.w.required]),recaptcha_key:new i.e(null,[i.w.required])},{validators:U})}get f(){return this.formData.controls}onSubmit(t){this.isLoading=!0,this.register.postRegistration(t.value).subscribe(t=>{t.success&&(this.formData.reset(),this.toastr.success("You have successfully registered."),this.formSubmitted=!0),this.isLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(i.d),a.Ob(P),a.Ob(_.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-register"]],decls:9,vars:3,consts:[[1,"register"],[1,"row"],[1,"col-md-6","offset-md-3","mt-5","mb-5"],[1,"brand"],["alt","logo",3,"src"],[1,"card"],[4,"ngIf","ngIfElse"],["successfulSubmission",""],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","name","email","aria-describedby","emailHelp","placeholder","Email","formControlName","email","id","email",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],["for","password"],["type","password","name","password","placeholder","Password","formControlName","password","id","password",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-info"],["for","password2"],["type","password","name","password2","placeholder","Confirm Password","formControlName","password2","id","password2",1,"form-control"],["formControlName","recaptcha_key",3,"siteKey"],["type","submit","class","btn btn-primary btn-block",4,"ngIf","ngIfElse"],["loadingSpinner",""],[1,"mt-4","text-center"],["routerLink","../login"],[1,"alert","alert-danger"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"form-row","justify-content-center"],[3,"diameter"],["type","submit","id","menu-toggle",1,"btn","btn-primary","btn-block",3,"routerLink"]],template:function(t,e){if(1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Pb(4,"img",4),a.Tb(),a.Ub(5,"div",5),a.Hc(6,M,36,6,"ng-container",6),a.Hc(7,q,10,1,"ng-template",null,7,a.Ic),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t){const t=a.wc(8);a.Bb(4),a.oc("src",e.logoPath,a.Ac),a.Bb(2),a.oc("ngIf",!e.formSubmitted)("ngIfElse",t)}},directives:[o.o,i.y,i.n,i.g,i.c,i.m,i.f,C.a,C.d,s.d,O.b,s.c],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%}.brand[_ngcontent-%COMP%]{width:90px;height:90px;overflow:hidden;border-radius:50%;margin:40px auto;box-shadow:0 4px 8px rgba(0,0,0,.05);position:relative;z-index:1}li[_ngcontent-%COMP%]{list-style-type:disc}"]}),t})(),L=(()=>{class t{constructor(t,e){this.http=t,this.apiService=e}putProfileDetails(t,e){const r=this.apiService.getURL("update-profile",e);return this.http.put(r,t).pipe(Object(b.a)(this.apiService.handleError("There was a problem updating your profile details")))}getProfileDetails(){const t=this.apiService.getURL("update-profile");return this.http.get(t).pipe(Object(b.a)(this.apiService.handleError("There was a problem retrieving your profile details")))}}return t.\u0275fac=function(e){return new(e||t)(a.bc(d.b),a.bc(u.a))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function E(t,e){1&t&&(a.Ub(0,"div"),a.Ub(1,"div",19),a.Jc(2,"You have not consented to our Informed Consent Form, if you wish to consent please click on the button below "),a.Tb(),a.Ub(3,"a",20),a.Jc(4,"Consent"),a.Tb(),a.Tb())}function N(t,e){if(1&t){const t=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",19),a.Jc(2,"You have consented to our Informed Consent Form, if you wish to withdraw please click on the button below "),a.Tb(),a.Ub(3,"button",21),a.ec("click",function(){return a.yc(t),a.ic().withdraw()}),a.Jc(4," Withdraw Your Consent "),a.Tb(),a.Tb()}}let A=(()=>{class t{constructor(t,e,r,o,s){this.router=t,this.builder=e,this.profile=r,this.toastr=o,this.consentService=s,this.logoPath="assets/global/logo.jpg"}ngOnInit(){this.formData=this.builder.group({first_name:new i.e("",[i.w.required]),last_name:new i.e("",[i.w.required]),email:new i.e("",[i.w.required,i.w.email])}),this.consentService.getConsent().subscribe(t=>{this.userConsent=t[t.length-1].consent}),this.profile.getProfileDetails().subscribe(t=>{this.userDetails=t,this.formData.controls.first_name.setValue(this.userDetails[0].first_name),this.formData.controls.last_name.setValue(this.userDetails[0].last_name),this.formData.controls.email.setValue(this.userDetails[0].email)})}onSubmit(t){this.profile.putProfileDetails(t.value,this.userDetails[0].id).subscribe(()=>{this.toastr.success("Your profile has been updated successfully!")})}withdraw(){this.consentService.postConsent({consent:!1,legal_first_name:"",legal_last_name:"",student_number:"",date:""}).subscribe(()=>{this.toastr.success("Your consent has been withdrawn successfully!")},t=>{console.warn(t),this.toastr.error(t)}),this.userConsent=!1}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.b),a.Ob(i.d),a.Ob(L),a.Ob(_.b),a.Ob(l))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-profile-details"]],decls:29,vars:5,consts:[[1,"profile"],[1,"row"],[1,"col-md-6","offset-md-3","mt-5","mb-5"],[1,"brand"],["alt","logo",3,"src"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","first_name"],["type","text","name","first_name","formControlName","first_name","id","first_name",1,"form-control"],["for","last_name"],["type","text","name","last_name","formControlName","last_name","id","last_name",1,"form-control"],["for","email"],["type","email","name","email","formControlName","email","id","email",1,"form-control"],["type","submit",1,"btn","btn-primary"],["onclick","",1,"btn","btn-outline-warning","my-1",3,"routerLink"],[4,"ngIf"],[1,"my-1"],["routerLink","../consent-form","type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Pb(4,"img",4),a.Tb(),a.Ub(5,"div",5),a.Ub(6,"h2",6),a.Jc(7,"Profile"),a.Tb(),a.Ub(8,"div",7),a.Ub(9,"form",8),a.ec("ngSubmit",function(){return e.onSubmit(e.formData)}),a.Ub(10,"div",9),a.Ub(11,"label",10),a.Jc(12,"First Name:"),a.Tb(),a.Pb(13,"input",11),a.Tb(),a.Ub(14,"div",9),a.Ub(15,"label",12),a.Jc(16,"Last Name:"),a.Tb(),a.Pb(17,"input",13),a.Tb(),a.Ub(18,"div",9),a.Ub(19,"label",14),a.Jc(20,"Email:"),a.Tb(),a.Pb(21,"input",15),a.Tb(),a.Ub(22,"button",16),a.Jc(23,"Update"),a.Tb(),a.Tb(),a.Ub(24,"button",17),a.Jc(25," Change Password "),a.Tb(),a.Pb(26,"hr"),a.Hc(27,E,5,0,"div",18),a.Hc(28,N,5,0,"div",18),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Bb(4),a.oc("src",e.logoPath,a.Ac),a.Bb(5),a.oc("formGroup",e.formData),a.Bb(15),a.oc("routerLink","../change-password"),a.Bb(3),a.oc("ngIf",!e.userConsent),a.Bb(1),a.oc("ngIf",e.userConsent))},directives:[i.y,i.n,i.g,i.c,i.m,i.f,s.c,o.o,s.d],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%}.brand[_ngcontent-%COMP%]{width:90px;height:90px;overflow:hidden;border-radius:50%;margin:40px auto;box-shadow:0 4px 8px rgba(0,0,0,.05);position:relative;z-index:1}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),t})();var H=r("p3Fh");let j=(()=>{class t{constructor(t,e){this.http=t,this.apiService=e}putPasswordReset(t){const e=this.apiService.getURL("change-password");return this.http.post(e,t).pipe(Object(b.a)(this.apiService.handleError("Error occurred while changing password",{success:!1,bad_request:!0})))}}return t.\u0275fac=function(e){return new(e||t)(a.bc(d.b),a.bc(u.a))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Y=(()=>{class t{constructor(t,e,r){this.builder=t,this.password=e,this.toastr=r,this.logoPath="assets/global/logo.jpg"}ngOnInit(){this.formData=this.builder.group({old_password:new i.e("",[i.w.required]),password:new i.e("",[i.w.required]),password2:new i.e("",[i.w.required])})}onSubmit(t){this.password.putPasswordReset(t.value).subscribe(t=>{0!=t.success&&(this.formData.reset(),this.toastr.success("Your password has been updated successfully!"))})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(i.d),a.Ob(j),a.Ob(_.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-change-password"]],decls:30,vars:2,consts:[[1,"reset-password"],[1,"row"],[1,"col-md-6","offset-md-3","mt-5","mb-5"],[1,"brand"],["alt","logo",3,"src"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","old_password"],["type","password","name","old_password","formControlName","old_password","id","old_password",1,"form-control"],["for","password"],["type","password","name","password","formControlName","password","id","password",1,"form-control"],[1,"alert","alert-info"],["for","password2"],["type","password","name","password2","formControlName","password2","id","password2",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Pb(4,"img",4),a.Tb(),a.Ub(5,"div",5),a.Ub(6,"h2",6),a.Jc(7,"Change Password"),a.Tb(),a.Ub(8,"div",7),a.Ub(9,"form",8),a.ec("ngSubmit",function(){return e.onSubmit(e.formData)}),a.Ub(10,"div",9),a.Ub(11,"label",10),a.Jc(12,"Old Password:"),a.Tb(),a.Pb(13,"input",11),a.Tb(),a.Ub(14,"div",9),a.Ub(15,"label",12),a.Jc(16,"New Password:"),a.Tb(),a.Pb(17,"input",13),a.Tb(),a.Ub(18,"div",14),a.Ub(19,"ul"),a.Ub(20,"li"),a.Jc(21,"Your password must contain at least 8 characters."),a.Tb(),a.Ub(22,"li"),a.Jc(23,"Your password can\u2019t be entirely numeric."),a.Tb(),a.Tb(),a.Tb(),a.Ub(24,"div",9),a.Ub(25,"label",15),a.Jc(26,"Confirm New Password:"),a.Tb(),a.Pb(27,"input",16),a.Tb(),a.Ub(28,"button",17),a.Jc(29,"Reset Password"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Bb(4),a.oc("src",e.logoPath,a.Ac),a.Bb(5),a.oc("formGroup",e.formData))},directives:[i.y,i.n,i.g,i.c,i.m,i.f],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%}.brand[_ngcontent-%COMP%]{width:90px;height:90px;overflow:hidden;border-radius:50%;margin:40px auto;box-shadow:0 4px 8px rgba(0,0,0,.05);position:relative;z-index:1}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),t})(),G=(()=>{class t{constructor(t,e){this.http=t,this.apiService=e}putPasswordReset(t){const e=this.apiService.getURL("reset-password");return this.http.post(e,t).pipe(Object(b.a)(this.apiService.handleError("There was an error while changing your password",{success:!1,bad_request:!0})))}sendForgotPasswordEmail(t){const e=this.apiService.getURL("reset-password","send-email");return this.http.post(e,{email:t}).pipe(Object(b.a)(this.apiService.handleError("There was an error while sending your reset email",{success:!1,bad_request:!0})))}}return t.\u0275fac=function(e){return new(e||t)(a.bc(d.b),a.bc(u.a))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function F(t,e){if(1&t){const t=a.Vb();a.Ub(0,"form",10),a.ec("ngSubmit",function(){a.yc(t);const e=a.ic();return e.onSubmit(e.formData)}),a.Ub(1,"div",11),a.Ub(2,"label",12),a.Jc(3,"New Password:"),a.Tb(),a.Pb(4,"input",13),a.Tb(),a.Ub(5,"div",14),a.Ub(6,"ul"),a.Ub(7,"li"),a.Jc(8,"Your password must contain at least 8 characters."),a.Tb(),a.Ub(9,"li"),a.Jc(10,"Your password can\u2019t be entirely numeric."),a.Tb(),a.Tb(),a.Tb(),a.Ub(11,"div",11),a.Ub(12,"label",15),a.Jc(13,"Confirm New Password:"),a.Tb(),a.Pb(14,"input",16),a.Tb(),a.Ub(15,"button",17),a.Jc(16,"Reset Password"),a.Tb(),a.Tb()}if(2&t){const t=a.ic();a.oc("formGroup",t.formData)}}function K(t,e){if(1&t){const t=a.Vb();a.Ub(0,"form",10),a.ec("ngSubmit",function(){a.yc(t);const e=a.ic();return e.submitEmail(e.formData)}),a.Ub(1,"div",11),a.Ub(2,"label",18),a.Jc(3,"E-mail:"),a.Tb(),a.Pb(4,"input",19),a.Tb(),a.Ub(5,"button",17),a.Jc(6,"Send Email"),a.Tb(),a.Tb()}if(2&t){const t=a.ic();a.oc("formGroup",t.formData)}}let V=(()=>{class t{constructor(t,e,r,o,s){this.builder=t,this.resetPasswordService=e,this.toastr=r,this.route=o,this.router=s,this.logoPath="assets/global/logo.jpg",this.emailSent=!1}ngOnInit(){this.uuid=this.route.snapshot.params.uuid,this.token=this.route.snapshot.params.token,this.uuid&&this.token&&(this.emailSent=!0,this.formData=this.builder.group({password:new i.e("",[i.w.required]),password2:new i.e("",[i.w.required])})),this.emailSent||(this.formData=this.builder.group({email:new i.e("",[i.w.required])}))}onSubmit(t){this.resetPasswordService.putPasswordReset(Object.assign({uid:this.uuid,token:this.token},t.value)).subscribe(t=>{0!=t.success&&(this.formData.reset(),this.toastr.success("Your password has been updated successfully!"),this.router.navigate(["/accounts/login"]).then())})}submitEmail(t){this.resetPasswordService.sendForgotPasswordEmail(t.get("email").value).subscribe(t=>{0!=t.success&&(this.formData.reset(),this.toastr.success("An email has been sent to you with a password reset link!"))})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(i.d),a.Ob(G),a.Ob(_.b),a.Ob(s.a),a.Ob(s.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-reset-password"]],decls:12,vars:3,consts:[[1,"reset-password"],[1,"row"],[1,"col-md-6","offset-md-3","mt-5","mb-5"],[1,"brand"],["alt","logo",3,"src"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["sendEmail",""],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","password"],["type","password","name","password","formControlName","password","id","password",1,"form-control"],[1,"alert","alert-info"],["for","password2"],["type","password","name","password2","formControlName","password2","id","password2",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block"],["for","email"],["type","email","name","email","formControlName","email","id","email",1,"form-control"]],template:function(t,e){if(1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Pb(4,"img",4),a.Tb(),a.Ub(5,"div",5),a.Ub(6,"h2",6),a.Jc(7,"Reset Password"),a.Tb(),a.Ub(8,"div",7),a.Hc(9,F,17,1,"form",8),a.Hc(10,K,7,1,"ng-template",null,9,a.Ic),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t){const t=a.wc(11);a.Bb(4),a.oc("src",e.logoPath,a.Ac),a.Bb(5),a.oc("ngIf",e.emailSent)("ngIfElse",t)}},directives:[o.o,i.y,i.n,i.g,i.c,i.m,i.f],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%}.brand[_ngcontent-%COMP%]{width:90px;height:90px;overflow:hidden;border-radius:50%;margin:40px auto;box-shadow:0 4px 8px rgba(0,0,0,.05);position:relative;z-index:1}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}li[_ngcontent-%COMP%]{list-style-type:disc}"]}),t})(),z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["app-terms-and-conditions-snippet"]],decls:44,vars:0,consts:[[1,"ml-5","mr-5","mb-3"],[1,"ml-5"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Jc(1,"Thank you for your email confirmation. Your Account has been successfully activated.\n"),a.Tb(),a.Ub(2,"h3",1),a.Jc(3,"Introduction"),a.Tb(),a.Ub(4,"div",0),a.Jc(5," You are invited to participate in a study that involves the development of an educational software. As a participant in this study, we are asking that you provide us information to be used in developing and improving this software.\n"),a.Tb(),a.Ub(6,"div",0),a.Jc(7," This consent form contains information about the study and is intended to help you decide whether you wish to participate in it. You may refuse to participate. You should be aware that even after you have given your consent, you are free to withdraw at any time. If you choose not to participate or withdraw at a later time, it will not affect your relationship with this department or any of the parties involved in the study or the University of British Columbia. If you have any questions about this study before, during, or after the study, please feel free to direct them to:\n"),a.Tb(),a.Ub(8,"div",0),a.Jc(9," Dr. Bowen Hui (bowen.hui@ubc.ca)\n"),a.Tb(),a.Ub(10,"h3",1),a.Jc(11,"Study Objectives"),a.Tb(),a.Ub(12,"div",0),a.Jc(13,"The objective of this research is to develop educational software that helps students with their programming work.\n"),a.Tb(),a.Ub(14,"h3",1),a.Jc(15,"Procedure (Total Expected Time: Up to 0.5 hour)"),a.Tb(),a.Ub(16,"div",0),a.Ub(17,"ol"),a.Ub(18,"li"),a.Jc(19,"As part of the course, you will work on assignments and submit them as usual. Nothing will change from standard course procedures. "),a.Tb(),a.Ub(20,"li"),a.Jc(21,"After your work is submitted and graded, we will anonymize the submission and collect the data. You do not have to do anything. "),a.Tb(),a.Tb(),a.Tb(),a.Ub(22,"h3",1),a.Jc(23,"Risks"),a.Tb(),a.Ub(24,"div",0),a.Jc(25,"There are no known risks to participants as no added work is required in the participation of this study.\n"),a.Tb(),a.Ub(26,"h3",1),a.Jc(27,"Benefits"),a.Tb(),a.Ub(28,"div",0),a.Jc(29,"The participants may gain a better understanding of the research process involved."),a.Tb(),a.Ub(30,"h3",1),a.Jc(31,"Privacy and Confidentiality"),a.Tb(),a.Ub(32,"div",0),a.Jc(33," All the data collected as part of this study are anonymous. Names of participants are stored separately from the information collected by a neutral third party. Your name will not be associated in any way with the information collected about you or how you use the software in the study. Furthermore, because the interest of this study is to identify average responses and behaviours of the entire group of participants, you will not be identified in any way in any written reports of this research.\n"),a.Tb(),a.Ub(34,"div",0),a.Jc(35," Participants have a right to access their own results so long as their names and identifiers are still available. The data obtained from this study will be retained for at least 5 years in a secured, electronic form which only researchers of this study will have access to. No audio or video tapes will be used. General results of the research study may be available through publications. A summary of the results will be made available to participants upon request.\n"),a.Tb(),a.Ub(36,"h3",1),a.Jc(37,"Concerns About Participants' Rights"),a.Tb(),a.Ub(38,"div",0),a.Jc(39," If you have any concerns or complaints about your rights as a research participant and/or your experience while participating in this study, contact the Research Participant Complaint Line in the UBC Office of Research Ethics toll free at 1-877-822-8598 or via email at RSIL@ors.ubc.ca, or the UBC Okanagan Research Services Office at 250-807-8832. When reaching out, include the study number H19-02053 so they can better assist you.\n"),a.Tb(),a.Ub(40,"h3",1),a.Jc(41,"Access to Submitted Work and Associated Grades"),a.Tb(),a.Ub(42,"div",0),a.Jc(43," By checking on the appropriate box below, you are indicating whether you will provide consent for our research team to use your work to help improve our software. The grades we collect will only be used for research analysis purposes and will not include any names or personal identifiers.\n"),a.Tb())},styles:["h3[_ngcontent-%COMP%]{font-weight:700}ol[_ngcontent-%COMP%]{padding-left:2em}"]}),t})();const W=[{path:"login",component:y},{path:"register",component:R},{path:"profile",component:A,canActivate:[H.a]},{path:"change-password",component:Y,canActivate:[H.a]},{path:"reset-password",component:V},{path:"reset-password/:uuid/:token",component:V},{path:"consent-form",component:(()=>{class t{constructor(t,e,r,o,s){this.router=t,this.route=e,this.builder=r,this.consentService=o,this.toastr=s,this.logoPath="assets/global/logo.jpg"}ngOnInit(){this.formData=this.builder.group({consent:!0,legal_first_name:new i.e("",[i.w.required]),legal_last_name:new i.e("",[i.w.required]),student_number:new i.e("",[i.w.required]),date:new i.e((new Date).toDateString(),[i.w.required])})}onSubmit(t){this.consentService.postConsent(t.value).subscribe(()=>{this.router.navigate(["../profile"],{relativeTo:this.route}).then(),this.toastr.success("You have successfully consented!")},t=>{console.warn(t),this.toastr.error(t)})}declineConsent(){this.consentService.postConsent({consent:!1,legal_first_name:"",legal_last_name:"",student_number:"",date:""}).subscribe(()=>{this.toastr.success("You successfully declined to consent.")},t=>{console.warn(t),this.toastr.error(t)})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.b),a.Ob(s.a),a.Ob(i.d),a.Ob(l),a.Ob(_.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-consent-form"]],decls:32,vars:2,consts:[[1,"consent-form"],[1,"row"],[1,"col-md-6","offset-md-3","mt-5","mb-5"],[1,"brand"],["alt","logo",3,"src"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","legal_last_name"],["type","text","name","legal_last_name","formControlName","legal_last_name","id","legal_last_name",1,"form-control"],["for","legal_first_name"],["type","text","name","legal_first_name","formControlName","legal_first_name","id","legal_first_name",1,"form-control"],["for","student_number"],["type","text","name","student_number","formControlName","student_number","id","student_number",1,"form-control"],["for","date"],["type","text","name","date","formControlName","date","id","date",1,"form-control"],["type","submit",1,"btn","btn-primary","float-right","mx-2"],["routerLink","../profile","type","button",1,"btn","btn-primary","float-right","mx-2",3,"click"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Pb(4,"img",4),a.Tb(),a.Ub(5,"div",5),a.Ub(6,"h2",6),a.Jc(7,"Please Read our Informed Consent Form"),a.Tb(),a.Pb(8,"app-terms-and-conditions-snippet"),a.Ub(9,"div",7),a.Ub(10,"form",8),a.ec("ngSubmit",function(){return e.onSubmit(e.formData)}),a.Ub(11,"div",9),a.Ub(12,"label",10),a.Jc(13,"Type in your last name:"),a.Tb(),a.Pb(14,"input",11),a.Tb(),a.Ub(15,"div",9),a.Ub(16,"label",12),a.Jc(17,"Type in your first name:"),a.Tb(),a.Pb(18,"input",13),a.Tb(),a.Ub(19,"div",9),a.Ub(20,"label",14),a.Jc(21,"Type in your student number (this is only needed in case there are students with the same first and last name):"),a.Tb(),a.Pb(22,"input",15),a.Tb(),a.Ub(23,"div",9),a.Ub(24,"label",16),a.Jc(25,"Type in today's date:"),a.Tb(),a.Pb(26,"input",17),a.Tb(),a.Ub(27,"div",9),a.Ub(28,"button",18),a.Jc(29,"I Consent "),a.Tb(),a.Ub(30,"button",19),a.ec("click",function(){return e.declineConsent()}),a.Jc(31,"I Do Not Consent "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Bb(4),a.oc("src",e.logoPath,a.Ac),a.Bb(6),a.oc("formGroup",e.formData))},directives:[z,i.y,i.n,i.g,i.c,i.m,i.f,s.c],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%}.brand[_ngcontent-%COMP%]{width:90px;height:90px;overflow:hidden;border-radius:50%;margin:40px auto;box-shadow:0 4px 8px rgba(0,0,0,.05);position:relative;z-index:1}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[H.a]},{path:"activate/:uuid/:token",component:(()=>{class t{constructor(t,e,r,o){this.route=t,this.registerService=e,this.toastr=r,this.router=o}ngOnInit(){this.routeSub=this.route.params.subscribe(t=>{this.uuid=t.uuid,this.token=t.token}),this.registerService.postActivation(this.uuid,this.token).subscribe(t=>{t.success&&(this.toastr.success("You have activated your account successfully."),this.router.navigate(["/accounts/login"]).then())})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.a),a.Ob(P),a.Ob(_.b),a.Ob(s.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-activation-email"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})()}];let X=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[s.e.forChild(W)],s.e]}),t})(),Q=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[o.c,i.h,X,i.t,C.c,C.b,O.a]]}),t})()}}]);